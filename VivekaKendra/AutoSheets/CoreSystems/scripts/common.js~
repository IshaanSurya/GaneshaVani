function checkValues(form) 
{
	//alert("I'm Ok");
	var score = 0;
	if(attempts <3)
	{
		for (i=0; i<numQues; i++) 
		{
			var answer = form.elements[i].value;
			var answer_length = answer.length;
			var last_char = answer.charAt(answer_length-1);
			if (last_char == " ") 
			{
				form.elements[i].value = (answer.substring(0, answer_length-1)) ; 
	    			i=i-1;
			}
		}
	  	for (i=0; i<numQues; i++) 
	  	{
	  		var val,tok="";
		   //	form.elements[i].style.borderColor="";
	   	  	for (j=0; j<numOptions;j++)
	  		{
		  		form.elements[i*4+j].style.borderColor= "#CC3300";
				if  (form.elements[i*4+j].checked)
				{
			  		if (form.elements[i*4+j].value == answers[i]) 
	   				{
						score = score+1;
					}
				  	else
				  	{
					  																//form.elements[i*4+j].style.backgroundColor=;
					  																form.elements[i*4+j].style.borderColor= "#FF0000";
				  	}
				}
	    		}
	  	}
		attempts = attempts*1 + 1;
		//score = Math.round(score/numQues*100);
	}
	else
	{
	  DisableAll(form,"True")
	}
	form.percentage.value = score; //+ "%";
	form.questions.value = numQues;
	form.attempts.value = attempts;  
}


function checkValuesEd(form) 
{

	var score = 0;
	for (i=0; i<numQues; i++) 
	{
		var answer = form.elements[i].value;
		var answer_length = answer.length;
		var last_char = answer.charAt(answer_length-1);
		if (last_char == " ") 
		{
			form.elements[i].value = (answer.substring(0, answer_length-1)) ; 
    			i=i-1;
		}
	}
  	for (i=0; i<numQues; i++) 
	{
		//alert("FieldVal = " + form.elements[i].value , ",  Answer = " + answers[i]);
    		if (form.elements[i].value == answers[i]) 
		{
			score++;
     			form.elements[i].style.borderColor="";
      			//alert(answers[i])
    		}
    		else
    		{
	    		form.elements[i].style.borderColor = "#FF0000";
    		}
  	}

  	//score = Math.round(score/numQues*100);
  	form.percentage.value = score; //+ "%";
  	form.questions.value = numQues;

	if(attempts >3)
	{
		DisableAll(form,"True")
	}
	else
	{
		attempts = attempts*1 + 1;
	}

	form.attempts.value = attempts;  
	form.percentage.value = score; //+ "%";
	form.questions.value = numQues;
}


function checkValuesMulWays(form) 
{
	var score = 0;
	for (i=0; i<numQues; i++) 
	{
		var answer = form.elements[i].value;
		var answer_length = answer.length;
		var last_char = answer.charAt(answer_length-1);
		if (last_char == " ") 
		{
			form.elements[i].value = (answer.substring(0, answer_length-1)) ; 
    			i=i-1;
		}
	}
  	for (i=0; i<numQues; i++) 
	{
		var idx = -1;
		var ans = answers[i];
		var found = 0;
		do
		{
			var theAns
			//alert(ans);
			idx = ans.search(/;/);
			if(idx != -1)
				theAns = ans.substr(0,idx);
			else
				theAns = ans;
				
			//alert("FieldVal = " + form.elements[i].value + ",  Answer = " + theAns+", "+form.elements[i].value.length+", "+theAns.length);
		    	if (form.elements[i].value == theAns) 
			{
					score++;
	     			form.elements[i].style.borderColor="";
	      			found = 1;
	      			break;
	    		}
				ans = ans.substr(idx+1,ans.length);
		} while (idx !=-1);
		
  	  	if (found==0)
    		{
	    		form.elements[i].style.borderColor="#FF0000";
   		}
  	}

  	//score = Math.round(score/numQues*100);
  	form.percentage.value = score; //+ "%";
  	form.questions.value = numQues;

	if(attempts >3)
	{
		DisableAll(form,"True")
	}
	else
	{
		attempts = attempts*1 + 1;
	}

	form.attempts.value = attempts;  
	form.percentage.value = score; //+ "%";
	form.questions.value = numQues;
}

function checkPlaceValues(form) {
  var score = 0;
	for (i=0; i<nRows*nCols; i++) 
	{
		var answer = form.elements[i].value;
		var answer_length = answer.length;
		var last_char = answer.charAt(answer_length-1);
		if (last_char == " ") 
		{
			form.elements[i].value = 0 ; 
		}
	}
	
	for (i=0; i<nRows; i++) 
	{
		tempVal=0;
		for (j=0; j<nCols;j++)
		{
			tempVal = tempVal + form.elements[i*nCols+j].value*placVals[j];
		}
		studValues[i] = tempVal;
	}


 for (i=0; i<nRows; i++) 
  {
	var correct = (studValues[i] == answers[i]);

		if(correct)
		{
			score++;
		}
		for (j=0; j<nCols;j++)
		{
		   	if (correct ) 
   			{	
   				form.elements[i*nCols+j].style.borderColor=""
   			}
   			else
   			{
	   			form.elements[i*nCols+j].style.borderColor = "#FF0000";
	   		}
	   	}
  }
	if(attempts <3)
	{
		attempts = attempts+1;
	}
	else
	{
	DisableAllPlaces(form,"True")
	}

  form.percentage.value = score; //+ "%";
  form.questions.value = numQues;
  form.attempts.value = attempts;  
}

function checkValuesNoSpace(form) 
{

	var score = 0;
	/*for (i=0; i<numQues; i++) 
	{
		var answer = form.elements[i].value;
		var answer_length = answer.length;
		var last_char = answer.charAt(answer_length-1);
		if (last_char == " ") 
		{
			form.elements[i].value = (answer.substring(0, answer_length-1)) ; 
    			i=i-1;
		}
	}
	*/
  	for (i=0; i<numQues; i++) 
	{
		var idx = -1;
		var ans = form.elements[i].value; //answer;
		more=1;
		
		var theAns="";
		do
		{
			idx = ans.search(/ /);
			if(idx != -1)
			{
				theAns = theAns+ans.substr(0,idx);
				ans = ans.substr(idx+1,ans.length);
				//alert(theAns);
			}
			else
			{
				theAns = theAns+ans;
				more=0;
			}
		}while (more);
				
		//alert("FieldVal = " + form.elements[i].value , ",  Answer = " + theAns);
		
	    	if (answers[i] == theAns) 
		{
			//alert(answers[i] + "   ,   " + theAns);
			score++;
     			form.elements[i].style.borderColor="";
      			found = 1;
    		}
    		else
    		{
	    		form.elements[i].style.borderColor = "#FF0000";
   		}
  	}

  	if(attempts >3)
	{
		DisableAll(form,"True")
	}
	else
	{
		attempts = attempts*1 + 1;
	}

	form.attempts.value = attempts;  
	form.percentage.value = score; //+ "%";
	form.questions.value = numQues;
}

function checkValuesOnOperation(form) 
{

	var score = 0;
	var j=0;
  	for (i=0; i<numQues; i++, j++) 
	{
		var idx = -1;
		//var ans = form.elements[i].value; //answer;
		more=1;
		
		var theAns=0;
		var val1, val2;
		
		val1 = form.elements[i].value;
		val2 = form.elements[++i].value;
				
		//alert("FieldVal = " + form.elements[i].value , ",  Answer = " + theAns);
		if(gOper == "*")
		{
			theAns = val1*val2;
		} 
		else if(gOper == "/")
		{
			theAns = val1/val2;
		} 
		else if(gOper == "+")
		{
			//alert(val1*1+val2*1);
			theAns = val1*1+val2*1;
		} 
		else if(gOper == "-")
		{
			theAns = val1-val2;
			//alert (gOper);
		} 
	    	if (answers[j] == theAns) 
		{
			score++;
     			form.elements[i].style.borderColor="";
     			form.elements[i-1].style.borderColor="";
      			//found = 1;
    		}
    		else
    		{
	    		form.elements[i].style.borderColor = "#FF0000";
	    		form.elements[i-1].style.borderColor = "#FF0000";
		}
  	}

  	if(attempts >3)
	{
		DisableAll(form,"True")
	}
	else
	{
		attempts = attempts*1 + 1;
	}

	form.attempts.value = attempts;  
	form.percentage.value = score; //+ "%";
	form.questions.value = numQues;
}
// This function displays the answer from the linked answer file in the "Answer Window"
function showAnswers(form)
{
	var val = prompt("This will disable the page. To continue please type, 'yes' and click OK");
	if(val != "yes")
	{
		return;
	}
	//checkValues(form);
	var correctAnswers = "";
	for (i=1; i<=numQues; i++) 
	{
		correctAnswers += i + ". " + answers[i-1] + "\r\n";
	}
	form.GradeMe.disabled = "True";
	DisableAll(form,"True")
	form.solutions.value = correctAnswers;
}


function resetAll(form) 
{
	var val = prompt("This will disable the page. To continue please type, 'yes' and click OK");
	if(val != null && val == "yes" )
	{
		form.reset;
		for (i=0; i<numQues; i++) 
		{
			form.elements[i].style.borderColor="";
		}
	}
	return;
}


function DisableAll(form,bVal) 
{
	form.reset;
	for (i=0; i<numQues; i++) 
	{
	form.elements[i].disabled = bVal;
	}




}


function hiliteme(form,me) 
{
	alert(me);
	if(prevBtn != "")
	{



		prevstyle = me.style;
		prevBtn.style.color = "#0000FF";
	}
	me.style.color = "#000000";
	prevBtn = me;

}


function checkValuesMulSel(form) 
{
	var score = 0;
	if(attempts <3)
	{
		for (i=0; i<numQues; i++) 
		{
			var answer = form.elements[i].value;
			var answer_length = answer.length;
			var last_char = answer.charAt(answer_length-1);
			if (last_char == " ") 
			{
				form.elements[i].value = (answer.substring(0, answer_length-1)) ; 
				i=i-1;
			}
		}
		for (i=0; i<numQues; i++) 
		{
			var val,tok="";
			form.elements[i].style.borderColor="";
			for (j=0; j<numOptions;j++)
			{
				alert(form.elements[i].options(j).selected);
				if  (form.elements[i].options(j).selected)
					val = "1";
				else
					val = "0";
				tok = tok + val; //answers[i,j] ;
			}
			if (tok == answers[i]) 
			{
				score = score +1;
			}
			else
			{
				form.elements[i].style.borderColor = "#FF0000";
			}
		}
		attempts = attempts*1 + 1;
		//score = Math.round(score/numQues*100);
	}
	else
	{
		DisableAll(form,"True")
	}
	form.percentage.value = score; //+ "%";
	form.questions.value = numQues;
	form.attempts.value = attempts;
}

// Dictation Functions                                                                           
function toWrdHldr(val,frm)                                                      
{                                                                                
	if(frm.wordHldr.value == null)                                           
	{                                                                        
		pval =  val;                                                     
	}                                                                        
	else                                                                     
	{                                                                        
		pval =  frm.wordHldr.value + val;                                
	}                                                                        
	frm.wordHldr.value = pval;                                               
}                                                                                
                                                                                 
function WordToList(frm)                                                         
{                                                                                
	if(frm.wordHldr.value != null)                                           
	{                                                                        
		frm.theList.value = frm.theList.value + frm.wordHldr.value + "\n"
		frm.wordHldr.value = "";                                         
	}                                                                        
}                                                                                
 
function toLocation(loc,frm)                                                         
{                                                                                
	if(frm.wordHldr.value != null)                                           
	{                                                                        
		loc.value = frm.wordHldr.value;
		frm.wordHldr.value = "";                                         
	}                                                                        
}

function checkMulSel(form) 
{
	if(attempts < 3)
	{
		var score = 0;
	for (i=0; i<numQues; i++) 
	{
		var answer = form.elements[i].value;
		var answer_length = answer.length;
		var last_char = answer.charAt(answer_length-1);
		if (last_char == " ") 
		{
			form.elements[i].value = (answer.substring(0, answer_length-1)) ; 
		i=i-1;
		}
	}
  	for (i=0; i<numQues; i++) 
	{
		var val,tok="";
	   	form.elements[i].style.borderColor="";
	  	for (j=0; j<numOptions;j++)
		{

			if  (form.elements[i].options(j).selected)
				val = 1;
			else
				val = 0;
			tok = tok + val; //answers[i,j] ;
	}
  		if (tok == answers[i]) 
		{
			score = score +1;
	   }
	  else
	  {
		  form.elements[i].style.borderColor = "#FF0000";
  	  }
  }
		attempts = attempts*1 + 1
		//score = Math.round(score/numQues*100);
		form.percentage.value = score; //+ "%";
		form.questions.value = numQues;
		form.attempts.value = attempts;		
	}
	else
	{
		DisableAll(form,"True")
	}
}



function loadKagunita(str,frm)
{
if(str == -1)
{
	enableKagButtons(true,frm);
	return;
}

	
var nKag = 32*16;
var Kag = new Array(nKag);
var i=0;
str = str*16;
 Kag[i++] = "Pï"; Kag[i++] = "PÀ"; Kag[i++] = "PÁ"; Kag[i++] = "Q"; Kag[i++] = "QÃ"; Kag[i++] = "PÀÄ"; Kag[i++] = "PÀÆ"; Kag[i++] = "PÀÈ"; Kag[i++] = "PÉ"; Kag[i++] = "PÉÃ"; Kag[i++] = "PÉÊ"; Kag[i++] = "PÉÆ"; Kag[i++] = "PÉÆÃ"; Kag[i++] = "PË"; Kag[i++] = "PÀA"; Kag[i++] = "PÀB";
 Kag[i++] = "Sï"; Kag[i++] = "R"; Kag[i++] = "SÁ"; Kag[i++] = "T"; Kag[i++] = "TÃ"; Kag[i++] = "RÄ"; Kag[i++] = "RÆ"; Kag[i++] = "RÈ"; Kag[i++] = "SÉ"; Kag[i++] = "SÉÃ"; Kag[i++] = "SÉÊ"; Kag[i++] = "SÉÆ"; Kag[i++] = "SÉÆÃ"; Kag[i++] = "SË"; Kag[i++] = "RA"; Kag[i++] = "RB";
 Kag[i++] = "Uï"; Kag[i++] = "UÀ"; Kag[i++] = "UÁ"; Kag[i++] = "V"; Kag[i++] = "VÃ"; Kag[i++] = "UÀÄ"; Kag[i++] = "UÀÆ"; Kag[i++] = "UÀÈ"; Kag[i++] = "UÉ"; Kag[i++] = "UÉÃ"; Kag[i++] = "UÉÊ"; Kag[i++] = "UÉÆ"; Kag[i++] = "UÉÆÃ"; Kag[i++] = "UË"; Kag[i++] = "UÀA"; Kag[i++] = "UÀB";
 Kag[i++] = "Wï"; Kag[i++] = "WÀ"; Kag[i++] = "WÁ"; Kag[i++] = "X"; Kag[i++] = "XÃ"; Kag[i++] = "WÀÄ"; Kag[i++] = "WÀÆ"; Kag[i++] = "WÀÈ"; Kag[i++] = "WÉ"; Kag[i++] = "WÉÃ"; Kag[i++] = "WÉÊ"; Kag[i++] = "WÉÆ"; Kag[i++] = "WÉÆÃ"; Kag[i++] = "WË"; Kag[i++] = "WÀA"; Kag[i++] = "WÀB";
 Kag[i++] = "Zï"; Kag[i++] = "ZÀ"; Kag[i++] = "ZÁ"; Kag[i++] = "a"; Kag[i++] = "aÃ"; Kag[i++] = "ZÀÄ"; Kag[i++] = "ZÀÆ"; Kag[i++] = "ZÀÈ"; Kag[i++] = "ZÉ"; Kag[i++] = "ZÉÃ"; Kag[i++] = "ZÉÊ"; Kag[i++] = "ZÉÆ"; Kag[i++] = "ZÉÆÃ"; Kag[i++] = "ZË"; Kag[i++] = "ZÀA"; Kag[i++] = "ZÀB";
 Kag[i++] = "bï"; Kag[i++] = "bÀ"; Kag[i++] = "bÁ"; Kag[i++] = "c"; Kag[i++] = "cÃ"; Kag[i++] = "bÀÄ"; Kag[i++] = "bÀÆ"; Kag[i++] = "bÀÈ"; Kag[i++] = "bÉ"; Kag[i++] = "bÉÃ"; Kag[i++] = "bÉÊ"; Kag[i++] = "bÉÆ"; Kag[i++] = "bÉÆÃ"; Kag[i++] = "bË"; Kag[i++] = "bÀA"; Kag[i++] = "bÀB";
 Kag[i++] = "eï"; Kag[i++] = "d"; Kag[i++] = "eÁ"; Kag[i++] = "f"; Kag[i++] = "fÃ"; Kag[i++] = "dÄ"; Kag[i++] = "dÆ"; Kag[i++] = "dÈ"; Kag[i++] = "eÉ"; Kag[i++] = "eÉÃ"; Kag[i++] = "eÉÊ"; Kag[i++] = "eÉÆ"; Kag[i++] = "eÉÆÃ"; Kag[i++] = "eË"; Kag[i++] = "dA"; Kag[i++] = "dB";
 Kag[i++] = "mï"; Kag[i++] = "l"; Kag[i++] = "mÁ"; Kag[i++] = "n"; Kag[i++] = "nÃ"; Kag[i++] = "lÄ"; Kag[i++] = "lÆ"; Kag[i++] = "lÈ"; Kag[i++] = "mÉ"; Kag[i++] = "mÉÃ"; Kag[i++] = "mÉÊ"; Kag[i++] = "mÉÆ"; Kag[i++] = "mÉÆÃ"; Kag[i++] = "mË"; Kag[i++] = "lA"; Kag[i++] = "lB";
 Kag[i++] = "oï"; Kag[i++] = "oÀ"; Kag[i++] = "oÁ"; Kag[i++] = "p"; Kag[i++] = "pÃ"; Kag[i++] = "oÀÄ"; Kag[i++] = "oÀÆ"; Kag[i++] = "oÀÈ"; Kag[i++] = "oÉ"; Kag[i++] = "oÉÃ";  Kag[i++] = "oÉÊ"; Kag[i++] = "oÉÆ"; Kag[i++] = "oÉÆÃ"; Kag[i++] = "oË"; Kag[i++] = "oÀA"; Kag[i++] = "oÀB";
 Kag[i++] = "qï"; Kag[i++] = "qÀ"; Kag[i++] = "qÁ"; Kag[i++] = "r"; Kag[i++] = "rÃ"; Kag[i++] = "qÀÄ"; Kag[i++] = "qÀÆ"; Kag[i++] = "qÀÈ"; Kag[i++] = "qÉ"; Kag[i++] = "qÉÃ"; Kag[i++] = "qÉÊ"; Kag[i++] = "qÉÆ"; Kag[i++] = "qÉÆÃ"; Kag[i++] = "qË"; Kag[i++] = "qÀA"; Kag[i++] = "qÀB";
 Kag[i++] = "qsï"; Kag[i++] = "qsÀ"; Kag[i++] = "qsÁ"; Kag[i++] = "rü"; Kag[i++] = "rüÃ"; Kag[i++] = "qsÀÄ"; Kag[i++] = "qsÀÆ"; Kag[i++] = "qsÀÈ"; Kag[i++] = "qsÉ"; Kag[i++] = "qsÉÃ"; Kag[i++] = "qsÉÊ"; Kag[i++] = "qsÉÆ"; Kag[i++] = "qsÉÆÃ"; Kag[i++] = "qsË"; Kag[i++] = "qsÀA"; Kag[i++] = "qsÀB";
 Kag[i++] = "uï"; Kag[i++] = "t"; Kag[i++] = "uÁ"; Kag[i++] = "tÂ"; Kag[i++] = "tÂÃ"; Kag[i++] = "tÄ"; Kag[i++] = "tÆ"; Kag[i++] = "tÈ"; Kag[i++] = "uÉ"; Kag[i++] = "uÉÃ"; Kag[i++] = "uÉÊ"; Kag[i++] = "uÉÆ"; Kag[i++] = "uÉÆÃ"; Kag[i++] = "uË"; Kag[i++] = "tA"; Kag[i++] = "tB";
 Kag[i++] = "vï"; Kag[i++] = "vÀ"; Kag[i++] = "vÁ"; Kag[i++] = "w"; Kag[i++] = "wÃ"; Kag[i++] = "vÀÄ"; Kag[i++] = "vÀÆ"; Kag[i++] = "vÀÈ"; Kag[i++] = "vÉ"; Kag[i++] = "vÉÃ"; Kag[i++] = "vÉÊ"; Kag[i++] = "vÉÆ"; Kag[i++] = "vÉÆÃ"; Kag[i++] = "vË"; Kag[i++] = "vÀA"; Kag[i++] = "vÀB";
 Kag[i++] = "xï"; Kag[i++] = "xÀ"; Kag[i++] = "xÁ"; Kag[i++] = "y"; Kag[i++] = "yÃ"; Kag[i++] = "xÀÄ"; Kag[i++] = "xÀÆ"; Kag[i++] = "xÀÈ"; Kag[i++] = "xÉ"; Kag[i++] = "xÉÃ"; Kag[i++] = "xÉÊ"; Kag[i++] = "xÉÆ"; Kag[i++] = "xÉÆÃ"; Kag[i++] = "xË"; Kag[i++] = "xÀA"; Kag[i++] = "xÀB";
 Kag[i++] = "zï"; Kag[i++] = "zÀ"; Kag[i++] = "zÁ"; Kag[i++] = "¢"; Kag[i++] = "¢Ã"; Kag[i++] = "zÀÄ"; Kag[i++] = "zÀÆ"; Kag[i++] = "zÀÈ"; Kag[i++] = "zÉ"; Kag[i++] = "zÉÃ"; Kag[i++] = "zÉÊ"; Kag[i++] = "zÉÆ"; Kag[i++] = "zÉÆÃ"; Kag[i++] = "zË"; Kag[i++] = "zÀA"; Kag[i++] = "zÀB";
 Kag[i++] = "zsï"; Kag[i++] = "zsÀ"; Kag[i++] = "zsÁ"; Kag[i++] = "¢ü"; Kag[i++] = "¢üÃ"; Kag[i++] = "zsÀÄ"; Kag[i++] = "zsÀÆ"; Kag[i++] = "zsÀÈ"; Kag[i++] = "zsÉ"; Kag[i++] = "zsÉÃ"; Kag[i++] = "zsÉÊ"; Kag[i++] = "zsÉÆ"; Kag[i++] = "zsÉÆÃ"; Kag[i++] = "zsË"; Kag[i++] = "zsÀA"; Kag[i++] = "zsÀB";
 Kag[i++] = "£ï"; Kag[i++] = "£À"; Kag[i++] = "£Á"; Kag[i++] = "¤"; Kag[i++] = "¤Ã"; Kag[i++] = "£ÀÄ"; Kag[i++] = "£ÀÆ"; Kag[i++] = "£ÀÈ"; Kag[i++] = "£É"; Kag[i++] = "£ÉÃ"; Kag[i++] = "£ÉÊ"; Kag[i++] = "£ÉÆ"; Kag[i++] = "£ÉÆÃ"; Kag[i++] = "£Ë"; Kag[i++] = "£ÀA"; Kag[i++] = "£ÀB";
 Kag[i++] = "¥ï"; Kag[i++] = "¥À"; Kag[i++] = "¥Á"; Kag[i++] = "¦"; Kag[i++] = "¦Ã"; Kag[i++] = "¥ÀÅ"; Kag[i++] = "¥ÀÇ"; Kag[i++] = "¥ÀÈ"; Kag[i++] = "¥É"; Kag[i++] = "¥ÉÃ"; Kag[i++] = "¥ÉÊ"; Kag[i++] = "¥ÉÇ"; Kag[i++] = "¥ÉÇÃ"; Kag[i++] = "¥Ë"; Kag[i++] = "¥ÀA"; Kag[i++] = "¥ÀB";
 Kag[i++] = "¥sï"; Kag[i++] = "¥sÀ"; Kag[i++] = "¥sÁ"; Kag[i++] = "¦ü"; Kag[i++] = "¦üÃ"; Kag[i++] = "¥sÀÅ"; Kag[i++] = "¥sÀÇ"; Kag[i++] = "¥sÀÈ"; Kag[i++] = "¥sÉ"; Kag[i++] = "¥sÉÃ"; Kag[i++] = "¥sÉÊ"; Kag[i++] = "¥sÉÇ"; Kag[i++] = "¥sÉÇÃ"; Kag[i++] = "¥sË"; Kag[i++] = "¥sÀA"; Kag[i++] = "¥sÀB";
 Kag[i++] = "¨ï"; Kag[i++] = "§"; Kag[i++] = "¨Á"; Kag[i++] = "©"; Kag[i++] = "©Ã"; Kag[i++] = "§Ä"; Kag[i++] = "§Æ"; Kag[i++] = "§È"; Kag[i++] = "¨É"; Kag[i++] = "¨ÉÃ"; Kag[i++] = "¨ÉÊ"; Kag[i++] = "¨ÉÆ"; Kag[i++] = "¨ÉÆÃ"; Kag[i++] = "¨Ë"; Kag[i++] = "§A"; Kag[i++] = "§B";
 Kag[i++] = "¨sï"; Kag[i++] = "¨sÀ"; Kag[i++] = "¨sÁ"; Kag[i++] = "©ü"; Kag[i++] = "©üÃ"; Kag[i++] = "¨sÀÄ"; Kag[i++] = "¨sÀÆ"; Kag[i++] = "¨sÀÈ"; Kag[i++] = "¨sÉ"; Kag[i++] = "¨sÉÃ"; Kag[i++] = "¨sÉÊ"; Kag[i++] = "¨sÉÆ"; Kag[i++] = "¨sÉÆÃ"; Kag[i++] = "¨sË"; Kag[i++] = "¨sÀA"; Kag[i++] = "¨sÀB";
 Kag[i++] = "ªÀiï"; Kag[i++] = "ªÀÄ"; Kag[i++] = "ªÀiÁ"; Kag[i++] = "«Ä"; Kag[i++] = "«ÄÃ"; Kag[i++] = "ªÀÄÄ"; Kag[i++] = "ªÀÄÆ"; Kag[i++] = "ªÀÄÈ"; Kag[i++] = "ªÉÄ"; Kag[i++] = "ªÉÄÃ"; Kag[i++] = "ªÉÄÊ"; Kag[i++] = "ªÉÆ"; Kag[i++] = "ªÉÆÃ"; Kag[i++] = "ªÀiË"; Kag[i++] = "ªÀÄA"; Kag[i++] = "ªÀÄB";
 Kag[i++] = "AiÀiï"; Kag[i++] = "AiÀÄ"; Kag[i++] = "AiÀiÁ"; Kag[i++] = "¬Ä"; Kag[i++] = "¬ÄÃ"; Kag[i++] = "AiÀÄÄ"; Kag[i++] = "AiÀÄÆ"; Kag[i++] = "AiÀÄÈ"; Kag[i++] = "AiÉÄ"; Kag[i++] = "AiÉÄÃ"; Kag[i++] = "AiÉÄÊ"; Kag[i++] = "AiÉÆ"; Kag[i++] = "AiÉÆÃ"; Kag[i++] = "AiÀiË"; Kag[i++] = "AiÀÄA"; Kag[i++] = "AiÀÄB";
 Kag[i++] = "gï"; Kag[i++] = "gÀ"; Kag[i++] = "gÁ"; Kag[i++] = "j"; Kag[i++] = "jÃ"; Kag[i++] = "gÀÄ"; Kag[i++] = "gÀÆ"; Kag[i++] = "gÀÈ"; Kag[i++] = "gÉ"; Kag[i++] = "gÉÃ"; Kag[i++] = "gÉÊ"; Kag[i++] = "gÉÆ"; Kag[i++] = "gÉÆÃ"; Kag[i++] = "gË"; Kag[i++] = "gÀA"; Kag[i++] = "gÀB";
 Kag[i++] = "¯ï"; Kag[i++] = "®"; Kag[i++] = "¯Á"; Kag[i++] = "°"; Kag[i++] = "°Ã"; Kag[i++] = "®Ä"; Kag[i++] = "®Æ"; Kag[i++] = "®È"; Kag[i++] = "¯É"; Kag[i++] = "¯ÉÃ"; Kag[i++] = "¯ÉÊ"; Kag[i++] = "¯ÉÆ"; Kag[i++] = "¯ÉÆÃ"; Kag[i++] = "¯Ë"; Kag[i++] = "®A"; Kag[i++] = "®B";
 Kag[i++] = "ªï"; Kag[i++] = "ªÀ"; Kag[i++] = "ªÁ"; Kag[i++] = "«"; Kag[i++] = "«Ã"; Kag[i++] = "ªÀÅ"; Kag[i++] = "ªÀÇ"; Kag[i++] = "ªÀÈ"; Kag[i++] = "ªÉ"; Kag[i++] = "ªÉÃ"; Kag[i++] = "ªÉÊ"; Kag[i++] = "ªÉÇ"; Kag[i++] = "ªÉÇÃ"; Kag[i++] = "ªË"; Kag[i++] = "ªÀA"; Kag[i++] = "ªÀB";
Kag[i++] = "±ï"; Kag[i++] = "±À"; Kag[i++] = "±Á"; Kag[i++] = "²"; Kag[i++] = "²Ã"; Kag[i++] = "±ÀÄ"; Kag[i++] = "±ÀÆ"; Kag[i++] = "±ÀÈ"; Kag[i++] = "±É"; Kag[i++] = "±ÉÃ"; Kag[i++] = "±ÉÊ"; Kag[i++] = "±ÉÆ"; Kag[i++] = "±ÉÆÃ"; Kag[i++] = "±Ë"; Kag[i++] = "±ÀA"; Kag[i++] = "±ÀB";
Kag[i++] = "µï"; Kag[i++] = "µÀ"; Kag[i++] = "µÁ"; Kag[i++] = ""; Kag[i++] = "Ã"; Kag[i++] = "µÀÄ"; Kag[i++] = "µÀÆ"; Kag[i++] = "µÀÈ"; Kag[i++] = "µÉ"; Kag[i++] = "µÉÃ"; Kag[i++] = "µÉÊ"; Kag[i++] = "µÉÆ"; Kag[i++] = "µÉÆÃ"; Kag[i++] = "µË"; Kag[i++] = "µÀA"; Kag[i++] = "µÀB";
Kag[i++] = "¸ï"; Kag[i++] = "¸À"; Kag[i++] = "¸Á"; Kag[i++] = "¹"; Kag[i++] = "¹Ã"; Kag[i++] = "¸ÀÄ"; Kag[i++] = "¸ÀÆ"; Kag[i++] = "¸ÀÈ"; Kag[i++] = "¸É"; Kag[i++] = "¸ÉÃ"; Kag[i++] = "¸ÉÊ"; Kag[i++] = "¸ÉÆ"; Kag[i++] = "¸ÉÆÃ"; Kag[i++] = "¸Ë"; Kag[i++] = "¸ÀA"; Kag[i++] = "¸ÀB";
Kag[i++] = "ºï"; Kag[i++] = "ºÀ"; Kag[i++] = "ºÁ"; Kag[i++] = "»"; Kag[i++] = "»Ã"; Kag[i++] = "ºÀÄ"; Kag[i++] = "ºÀÆ"; Kag[i++] = "ºÀÈ"; Kag[i++] = "ºÉ"; Kag[i++] = "ºÉÃ"; Kag[i++] = "ºÉÊ"; Kag[i++] = "ºÉÆ"; Kag[i++] = "ºÉÆÃ"; Kag[i++] = "ºË"; Kag[i++] = "ºÀA"; Kag[i++] = "ºÀB";
Kag[i++] = "¼ï"; Kag[i++] = "¼À";Kag[i++] =  "¼Á"; Kag[i++] = "½"; Kag[i++] = "½Ã"; Kag[i++] = "¼ÀÄ"; Kag[i++] = "¼ÀÆ"; Kag[i++] = "¼ÀÈ"; Kag[i++] = "¼É"; Kag[i++] = "¼ÉÃ"; Kag[i++] = "¼ÉÊ"; Kag[i++] = "¼ÉÆ"; Kag[i++] = "¼ÉÆÃ"; Kag[i++] = "¼Ë"; Kag[i++] = "¼ÀA"; Kag[i++] = "¼ÀB";
Kag[i++] = "Pïë"; Kag[i++] = "PÀë"; Kag[i++] = "PÁë"; Kag[i++] = "Që"; Kag[i++] = "QëÃ"; Kag[i++] = "PÀÄë"; Kag[i++] = "PÀÆë"; Kag[i++] = "PÀëöÈ"; Kag[i++] = "PÉë"; Kag[i++] = "PÉëÃ"; Kag[i++] = "PÉëöÊ"; Kag[i++] = "PÉÆë"; Kag[i++] = "PÉÆëÃ"; Kag[i++] = "PËë"; Kag[i++] = "PÀëA"; Kag[i++] = "PÀëB";


	enableKagButtons(false,frm);
	//alert(str);
	frm.k0.value=Kag[str++];
	frm.k1.value=Kag[str++];
	frm.k2.value=Kag[str++];
	frm.k3.value=Kag[str++];
	frm.k4.value=Kag[str++];
	frm.k5.value=Kag[str++];
	frm.k6.value=Kag[str++];
	frm.k7.value=Kag[str++];
	frm.k8.value=Kag[str++];
	frm.k9.value=Kag[str++];
	frm.k10.value=Kag[str++];
	frm.k11.value=Kag[str++];
	frm.k12.value=Kag[str++];
	frm.k13.value=Kag[str++];
	frm.k14.value=Kag[str++];
	frm.k15.value=Kag[str++];
}

function enableKagButtons(enb,frm)
{
	frm.k0.disabled=enb;
	frm.k1.disabled=enb;
	frm.k2.disabled=enb;
	frm.k3.disabled=enb;
	frm.k4.disabled=enb;
	frm.k5.disabled=enb;
	frm.k6.disabled=enb;
	frm.k7.disabled=enb;
	frm.k8.disabled=enb;
	frm.k9.disabled=enb;
	frm.k10.disabled=enb;
	frm.k11.disabled=enb;
	frm.k12.disabled=enb;
	frm.k13.disabled=enb;
	frm.k14.disabled=enb;
	frm.k15.disabled=enb;
}                                                                                

// Raising to Power
var power = new Array(12);
power[0] = 176 //0
power[1] = 185	//1
power[2] = 178	//2
power[3] = 179	//3
power[4] = 8308	//4
power[5] =8309	//5
power[6] = 8310	//6
power[7] = 8311	//7
power[8] = 8312	//8
power[9] = 8313	//9
power[10] = 8315	//-
power[11] = 8314	//+

function toPower(e,ed)
{
	var keyNum;
	var keyChar;
	var pwr;
	var evtobj=window.event? window.event : e
	if(evtobj.ctrlKey && evtobj.altKey)
	{
		if(window.event) // IE
			{
			keynum = e.keyCode;
			}
		else if(e.which) // Netscape/Firefox/Opera
			{
			keynum = e.which;
			}

		keychar = String.fromCharCode(keynum);
		pwr = String.fromCharCode(power[Number(keychar)]);

		// ----------	Specific handling for + and - superscripts	- Revisit this logic
		if (Number(keynum) == 61 || Number(keynum) == 45) // if - or = clicked.
		{
			pwr = (Number(keynum) == 61) ? String.fromCharCode(power[11]) : String.fromCharCode(power[10]);
		}
		// --------------------------

		var s = getSelectionStart(ed);
		var orgval = ed.value;
		var bfr = orgval.substring(0,s);
		var aft = orgval.substring(s,orgval.length);
		//alert(bfr + " <>" + aft);
		ed.value = bfr + pwr + aft;
		//alert(pwr+", "+ keychar);
	}
	//alert (pwr);
	return pwr; //String.fromCharCode(power[Number(keychar)]);
}

// Gets the caret position in an input text ctrl
function getSelectionStart(o) {
	if (o.createTextRange) {
		var r = document.selection.createRange().duplicate()
		r.moveEnd('character', o.value.length)
		if (r.text == '') return o.value.length
		return o.value.lastIndexOf(r.text)
	} else return o.selectionStart
}

// Function to load Frame Image Pages Dynamically
function loadDynPg()
{
	var genImg = document.getElementById("genImg");
	var imgSrc =  Request.QueryString("imgSrc");
	var w =  Request.QueryString("wt");	
	var h =  Request.QueryString("ht");
	genImg.src = imgSrc;
	genImg.width = parseInt(w);
	genImg.height = parseInt(h);
//	alert(genImg.src + w + h);
}

// Function to load Floater Pages Dynamically
function loadFloaterDynPg()
{
	var genImg = document.getElementById("RandomRange");
	if(g_bkClr==undefined || g_bkClr==null)
		genImg.style.backgroundColor="#FFCC80"; //g_bkClr;
	var imgSrc =  Request.QueryString("ansFile");
	var ans = document.getElementById("ansId")
	if(ans==undefined || ans==null)
	{
		alert("Cannot proceed, cannot link answers");
		return;
	}
	ans.src=ansFiles[Number(imgSrc)];
}
